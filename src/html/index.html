{% extends "base.html" %} 

{% block settings %}<button class="top-dropdown-item" id="open-settings">Settings</button>{% endblock %}

{% block content %}
<div class="home-page">
    <!-- CHANNELS -->
    <div class="channel-list">

    </div>

    <!-- CURRENT CHANNEL -->
    <div class="channel-view">
        <!-- <div class="nochannel-view">
            <h1 class="nochannel-text">Open any channel and start chatting</h1>
        </div> -->
        <div class="channel-info">
            Testing channel
            {{text}}
        </div>
        <div class="messages-box" id="messages-win">
            {% if messages %}
                {% for message in messages %}
                    <div class="message">
                        <div class="message-author">{{ Database.get_entry("users", message.user_id).name }}</div>
                        <div class="message-content">{{ message.content }}</div>
                        <div class="message-data">{{ message.create_time }}</div>
                    </div>
                {% endfor %}
            {% endif %}
        </div>
        <div class="writing-box" id="message-form">
            <input id="message-inpt" type="text" name="message" autocomplete="off" placeholder="Start messaging:"/>
            <input id="message-send" type="submit" value="SEND"/>
        </div>
    </div>
</div>

<div id="settings-page">
    <h1>Settings :)</h1>
    
    <button id="close-settings">
        <svg class="icons" width="16" height="16" viewBox="0 0 16 16">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M9.41423 7.99943L15.7384 1.67529L14.3242 0.261078L8.00001 6.58522L1.67587 0.261078L0.261658 1.67529L6.5858 7.99943L0.261658 14.3236L1.67587 15.7378L8.00001 9.41365L14.3242 15.7378L15.7384 14.3236L9.41423 7.99943Z"></path>
        </svg>
    </button>
</div>
{% endblock %}

{% block javascript %}
<script>
    var user_id = "{{ user_id }}"
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.1/socket.io.js" integrity="sha512-q/dWJ3kcmjBLU4Qc47E4A9kTB4m3wuTY7vkFJDTZKjTs8jhyGQnaUrxa0Ytd0ssMZhbNua9hE+E7Qv1j+DyZwA==" crossorigin="anonymous"></script>
<script charset="utf-8" src="{{ url_for('static', filename='js/chat.js') }}"></script>
{% endblock %}